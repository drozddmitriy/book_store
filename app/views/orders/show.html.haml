%main.container.general-main-wrap
  %h1.general-title-margin= I18n.t('views.checkout.order', order: @order.number)
  .row.mb-20
    - @current_address.each do |address|
      .col-sm-3
        %h3.general-subtitle.mt-0= address.capitalize_address
        %p.general-address
          = address.full_name
          %br/
          = address.address
          %br/
          = address.city_zip
          %br/
          = address.country
          %br/
          = address.phone_address
    .col-sm-3
      %h3.general-subtitle.mt-0= I18n.t('views.orders.shipments')
      %p.general-address
        = @order.delivery.name
        %br/
        = @order.delivery.time
    .col-sm-3
      %h3.general-subtitle.mt-0= I18n.t('views.orders.payment_information')
      %p.general-address
        = @order.show_credit_card
        %br/
        = @order.show_expiration_month_year
  .visible-xs
    - @order.line_items.includes(:book).each do |line_item|
      .general-cart-item.divider-lg
        .general-img-wrap-table
          = link_to line_item.book.images.first.url do
            = image_tag line_item.book.images.first.url, class: "img-shadow general-thumbnail-img", alt: "design-book"
        %p.title
          = line_item.book.title
        %table.table
          %tr
            %td
              %span.in-grey-600= I18n.t('views.orders.price')
            %td
              %span.font-16.in-gold-500
                = number_to_currency(line_item.book.price, unit: "€")
          %tr
            %td.vertical-middle
              %span.in-grey-600= I18n.t('views.orders.quantity')
            %td
              %span
                = line_item.quantity
          %tr
            %td
              %span.in-grey-600= I18n.t('views.orders.subtotal')
            %td
              %span.font-16.in-gold-500
                = number_to_currency(line_item.total_price, unit: "€")
  .hidden-xs.divider-lg.pt-20
    %table.table.table-hover
      %thead
        %tr
          %th
            %span.in-grey-600= I18n.t('views.orders.book')
          %th.col-method
          %th
            %span.in-grey-600= I18n.t('views.orders.price')
          %th
            %span.in-grey-600= I18n.t('views.orders.quantity')
          %th
            %span.in-grey-600= I18n.t('views.orders.total')
      %tbody
        - @order.line_items.includes(:book).each do |line_item|
          %tr
            %td
              .general-img-wrap-table
                = link_to line_item.book.images.first.url do
                  = image_tag line_item.book.images.first.url, class: "img-shadow general-thumbnail-img", alt: "design-book"
            %td
              %p.title
                = line_item.book.title
              %p.in-grey-600.fw-300
                = truncate(line_item.book.description, :length => 250)
            %td
              %span.font-16.in-gold-500
                = number_to_currency(line_item.book.price, unit: "€")
            %td
              %span.ml-30
                = line_item.quantity
            %td
              %span.font-16.in-gold-500
                = number_to_currency(line_item.total_price, unit: "€")
  .text-center.general-text-right
    %p.in-gold-500.font-18= I18n.t('views.orders.order_summary')
    %table.general-summary-table.general-summary-table-right.general-text-right
      = render 'checkout/order_summary', order: @order
